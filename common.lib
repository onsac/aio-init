# common.lib
declare -r TRUE=0
declare -r FALSE=1
declare -r USER=aio
declare -r TOKEN=onsac:3hevQqWGb2U4wNNA25LF
pw1()
{
   wget -O /tmp/.init.md http://raw.githubusercontent.com/onsac/aio-init/main/init.md 2>/dev/null
   if [ "$?" -ne "0" ]; then
      return $FALSE
   else
      PARTE=""
      for number in {1..8}
      do
          if [ "$number" -le "6" ]; then
             PARTE=${PARTE}$(grep  "$number -" /tmp/.init.md | cut -b 5)
          else
             PARTE=${PARTE}$(grep  "$number -" /tmp/.init.md | cut -b 5-6)
          fi
      done
      rm /tmp/.init.md 
      echo ${PARTE}
      return $TRUE
   fi
}

pw2()
{
   wget -O /tmp/.init.md http://raw.githubusercontent.com/onsac/aio-init/main/init.md 2>/dev/null
   if [ "$?" -ne "0" ]; then
      return $FALSE
   else
      PARTE=""
      for number in {5..7}
      do
          if [ "$number" -eq "5" ]; then
             PARTE=${PARTE}$(grep  "$number -" /tmp/.init.md | cut -b 5-9)
          else
             if [ "$number" -eq "6" ]; then
                PARTE=${PARTE}$(grep  "$number -" /tmp/.init.md | cut -b 5)
             else
                PARTE=${PARTE}$(grep  "$number -" /tmp/.init.md | cut -b 5-6)
             fi
          fi
      done
      rm /tmp/.init.md
      echo ${PARTE}
      return $TRUE
   fi
}

check_step()
{
   seq=$1
   FILE="/tmp/steps.txt"
   if [ "$seq" = "001" ]; then
      if [ -f "$FILE" ]; then
         if [ "$(grep "$seq -" $FILE)" = "" ]; then
            return $TRUE
         else
            echo "======================================================================================"
            grep "$seq -" $FILE
            echo "======================================================================================" 
            return $FALSE
         fi
      else
         touch $FILE
         chmod 777 $FILE
         return $TRUE
      fi
   else
      if [ "$(grep "$seq -" $FILE)" = "" ]; then
         return $TRUE
      else
         echo "======================================================================================"
         grep "$seq -" $FILE
         echo "======================================================================================" 
         return $FALSE
      fi
   fi
}
set_step()
{
   seq=$1
   texto=$2
   FILE="/tmp/steps.txt"
   echo "$seq - $texto" >>$FILE
   echo "======================================================================================"
   echo "$seq - $texto"
   echo "======================================================================================"
   return $TRUE
}

# Purpose: Determine if current user is root or not
is_root_user(){
 [ $(id -u) -eq 0 ] && return $TRUE || return $FALSE
}

